(()=>{"use strict";var e,t,n={885:(e,t,n)=>{n.d(t,{V:()=>c});let a=null;const o={"#/":()=>Promise.all([n.e(481),n.e(254),n.e(223)]).then(n.bind(n,223)),"#home":()=>Promise.all([n.e(481),n.e(254),n.e(223)]).then(n.bind(n,223)),"#stories":()=>Promise.all([n.e(481),n.e(254),n.e(223)]).then(n.bind(n,223)),"#add-story":()=>Promise.all([n.e(481),n.e(155)]).then(n.bind(n,155)),"#login":()=>n.e(947).then(n.bind(n,947)),"#register":()=>n.e(405).then(n.bind(n,405)),"#bookmarks":()=>{new HomePresenter(document.getElementById("main-content")).loadAndRenderSavedStories()}};async function r(){const e=document.getElementById("main-content"),t=window.location.hash||"#/";a&&"function"==typeof a.stopCamera&&(console.log("Router calling stopCamera on",a.constructor.name),a.stopCamera()),document.startViewTransition?await document.startViewTransition((async()=>{await i(t,e)})):await i(t,e)}async function i(e,t){const n=o[e];if(!n)return t.innerHTML="<p>Halaman tidak ditemukan.</p>",void(a=null);const r=(await n()).default;"function"==typeof r&&r.prototype&&r.prototype.init?(a=new r(t),window.currentPageInstance=a,await a.init()):"function"==typeof r?(a=null,window.currentPageInstance=null,r(t)):(t.innerHTML="<p>Halaman tidak ditemukan.</p>",a=null,window.currentPageInstance=null)}window.addEventListener("hashchange",(async()=>{await r()})),window.addEventListener("load",(async()=>{await r()}));const s=r;async function c(e){document.startViewTransition?await document.startViewTransition((()=>{window.location.hash=e})):window.location.hash=e}document.addEventListener("DOMContentLoaded",(async()=>{const e=document.getElementById("skip-link");function t(a){"Tab"===a.key&&(e.style.display="inline-block",window.removeEventListener("keydown",t),window.addEventListener("mousedown",n))}function n(){e.style.display="none",window.removeEventListener("mousedown",n),window.addEventListener("keydown",t)}function a(){const e=["nav-home","nav-add-story","nav-stories","nav-logout"],t=["nav-login","nav-register"];localStorage.getItem("token")?(e.forEach((e=>{const t=document.getElementById(e);t&&(t.style.display="block")})),t.forEach((e=>{const t=document.getElementById(e);t&&(t.style.display="none")}))):(e.forEach((e=>{const t=document.getElementById(e);t&&(t.style.display="none")})),t.forEach((e=>{const t=document.getElementById(e);t&&(t.style.display="block")})));const n=document.getElementById("logout-button");n&&!n.hasAttribute("data-listener")&&(n.addEventListener("click",(async e=>{e.preventDefault(),window.currentPageInstance&&"function"==typeof window.currentPageInstance.stopCamera&&window.currentPageInstance.stopCamera(),localStorage.removeItem("token"),localStorage.removeItem("userName"),alert("Anda berhasil logout."),a(),await c("#login")})),n.setAttribute("data-listener","true"))}window.addEventListener("keydown",t),window.addEventListener("mousedown",n),e.addEventListener("click",(()=>{const e=document.getElementById("main-content");e&&e.focus()})),window.addEventListener("userLoggedIn",(()=>{a()})),window.updateNav=a,a(),await async function(){if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("/sw.bundle.js");console.log("Service worker StoryShare App telah terpasang",e)}catch(e){console.log("Failed to install service worker:",e)}else console.log("Service Worker API unsupported")}(),await s(),sessionStorage.getItem("loginSuccess")&&(alert("Login berhasil!"),sessionStorage.removeItem("loginSuccess"),a()),window.addEventListener("hashchange",(async()=>{await async function(){window.currentPageInstance&&"#add-story"!==window.location.hash&&"function"==typeof window.currentPageInstance.stopCamera&&(window.currentPageInstance.stopCamera(),console.log("Kamera dimatikan karena tidak berada di halaman tambah cerita"))}(),window.currentPageInstance&&"function"==typeof window.currentPageInstance.stopCamera&&window.currentPageInstance.stopCamera(),await s()})),console.log("Berhasil mendaftarkan service worker.")}))}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return n[e].call(r.exports,r,r.exports,o),r.exports}o.m=n,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+"."+{155:"3fbcbb57710f44262968",223:"77573b5da9c7c0568ac4",254:"fa3d01bd8c4c010d5dd9",405:"8132908f0e53d6e1cdfd",481:"81c192d68fcb2862c0c7",947:"864b907deff32508f131"}[e]+".bundle.js",o.miniCssF=e=>"styles/"+e+".367d29390d9482b4f3e1.css",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="ceritaapp:",o.l=(n,a,r,i)=>{if(e[n])e[n].push(a);else{var s,c;if(void 0!==r)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var u=d[l];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+r){s=u;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+r),s.src=n),e[n]=[a];var m=(t,a)=>{s.onerror=s.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(a))),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{if("undefined"!=typeof document){var e={524:0};o.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{223:1}[t]&&n.push(e[t]=(e=>new Promise(((t,n)=>{var a=o.miniCssF(e),r=o.p+a;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var o=(i=n[a]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(o===e||o===t))return i}var r=document.getElementsByTagName("style");for(a=0;a<r.length;a++){var i;if((o=(i=r[a]).getAttribute("data-href"))===e||o===t)return i}})(a,r))return t();((e,t,n,a,r)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",o.nc&&(i.nonce=o.nc),i.onerror=i.onload=n=>{if(i.onerror=i.onload=null,"load"===n.type)a();else{var o=n&&n.type,s=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+s+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=s,i.parentNode&&i.parentNode.removeChild(i),r(c)}},i.href=t,document.head.appendChild(i)})(e,r,0,t,n)})))(t).then((()=>{e[t]=0}),(n=>{throw delete e[t],n})))}}})(),(()=>{var e={524:0};o.f.j=(t,n)=>{var a=o.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var r=new Promise(((n,o)=>a=e[t]=[n,o]));n.push(a[2]=r);var i=o.p+o.u(t),s=new Error;o.l(i,(n=>{if(o.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,a[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,r,[i,s,c]=n,d=0;if(i.some((t=>0!==e[t]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);c&&c(o)}for(t&&t(n);d<i.length;d++)r=i[d],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkceritaapp=self.webpackChunkceritaapp||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o(885)})();
//# sourceMappingURL=app.9bcd104a2febc8dc81ce.bundle.js.map