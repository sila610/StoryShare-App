"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkceritaapp"] = self["webpackChunkceritaapp"] || []).push([["src_auth_login_js"],{

/***/ "./src/auth/login.js":
/*!***************************!*\
  !*** ./src/auth/login.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ login)\n/* harmony export */ });\n/* harmony import */ var _views_loginView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/loginView.js */ \"./src/views/loginView.js\");\n/* harmony import */ var _presenter_loginPresenter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../presenter/loginPresenter.js */ \"./src/presenter/loginPresenter.js\");\n\r\n\r\n\r\nfunction login(container) {\r\n  const view = new _views_loginView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](container);\r\n  const presenter = new _presenter_loginPresenter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](view);\r\n  view.render();\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYXV0aC9sb2dpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFDYztBQUM1RDtBQUNlO0FBQ2YsbUJBQW1CLDJEQUFTO0FBQzVCLHdCQUF3QixvRUFBYztBQUN0QztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VyaXRhYXBwLy4vc3JjL2F1dGgvbG9naW4uanM/MWEyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9naW5WaWV3IGZyb20gJy4uL3ZpZXdzL2xvZ2luVmlldy5qcyc7XHJcbmltcG9ydCBMb2dpblByZXNlbnRlciBmcm9tICcuLi9wcmVzZW50ZXIvbG9naW5QcmVzZW50ZXIuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbG9naW4oY29udGFpbmVyKSB7XHJcbiAgY29uc3QgdmlldyA9IG5ldyBMb2dpblZpZXcoY29udGFpbmVyKTtcclxuICBjb25zdCBwcmVzZW50ZXIgPSBuZXcgTG9naW5QcmVzZW50ZXIodmlldyk7XHJcbiAgdmlldy5yZW5kZXIoKTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/auth/login.js\n");

/***/ }),

/***/ "./src/presenter/loginPresenter.js":
/*!*****************************************!*\
  !*** ./src/presenter/loginPresenter.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LoginPresenter)\n/* harmony export */ });\n/* harmony import */ var _model_storyModel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/storyModel.js */ \"./src/model/storyModel.js\");\n/* harmony import */ var _public_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../public/index.js */ \"./public/index.js\");\n// src/presenter/loginPresenter.js\r\n\r\n\r\n\r\nclass LoginPresenter {\r\n  constructor(view) {\r\n    this.view = view;\r\n    this.view.onSubmit = this.handleLogin.bind(this);\r\n    this.view.onAlert = this.handleAlert.bind(this);\r\n  }\r\n\r\n  handleAlert(message) {\r\n    alert(message);\r\n  }\r\n\r\n  async handleLogin(email, password) {\r\n    try {\r\n      const result = await _model_storyModel_js__WEBPACK_IMPORTED_MODULE_0__.loginUser(email, password);\r\n\r\n      if (!result.error && result.loginResult && result.loginResult.token) {\r\n        _model_storyModel_js__WEBPACK_IMPORTED_MODULE_0__.setToken(result.loginResult.token);\r\n        _model_storyModel_js__WEBPACK_IMPORTED_MODULE_0__.setUserName(result.loginResult.name || 'Guest');\r\n\r\n        // Cek apakah ini login pertama kali atau setelah register\r\n        const isFirstLogin = !localStorage.getItem('hasLoggedInBefore');\r\n        const justRegistered = sessionStorage.getItem('justRegistered') === 'true';\r\n        \r\n        if (isFirstLogin || justRegistered) {\r\n          // Tandai bahwa user sudah pernah login\r\n          localStorage.setItem('hasLoggedInBefore', 'true');\r\n          // Hapus flag justRegistered\r\n          sessionStorage.removeItem('justRegistered');\r\n          \r\n          // Tunda sedikit untuk memastikan navigasi selesai\r\n          setTimeout(() => {\r\n            this.promptNotificationPermission();\r\n          }, 1000);\r\n        }\r\n\r\n        sessionStorage.setItem('loginSuccess', 'true');\r\n\r\n        // Dispatch event untuk memberitahu bahwa user telah login\r\n        const event = new Event('userLoggedIn');\r\n        window.dispatchEvent(event);\r\n\r\n        // Perbarui navigasi setelah login\r\n        if (typeof window.updateNav === 'function') {\r\n          window.updateNav();\r\n        }\r\n\r\n        // Navigasi ke halaman stories\r\n        await (0,_public_index_js__WEBPACK_IMPORTED_MODULE_1__.navigateTo)('#stories');\r\n      } else {\r\n        this.view.showError(`Login gagal: ${result.message || 'Email atau password salah.'}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      this.view.showError('Terjadi kesalahan saat login, silakan coba lagi.');\r\n    }\r\n  }\r\n\r\n  // Tambahkan metode baru untuk meminta izin notifikasi\r\n  promptNotificationPermission() {\r\n    // Cek dukungan notifikasi\r\n    if (!('Notification' in window)) {\r\n      console.log('Browser tidak mendukung notifikasi');\r\n      return;\r\n    }\r\n\r\n    // Jika izin belum diberikan, tampilkan dialog konfirmasi\r\n    if (Notification.permission !== 'granted' && Notification.permission !== 'denied') {\r\n      const confirmNotif = confirm(\r\n        'Selamat datang di StoryShare App! Apakah Anda ingin menerima notifikasi untuk cerita baru dan pembaruan?'\r\n      );\r\n      \r\n      if (confirmNotif) {\r\n        Notification.requestPermission().then(permission => {\r\n          if (permission === 'granted') {\r\n            // Jika izin diberikan, tampilkan notifikasi selamat datang\r\n            const notification = new Notification('Selamat Datang di StoryShare App!', {\r\n              body: 'Terima kasih telah bergabung. Anda akan menerima notifikasi untuk cerita baru.',\r\n              icon: '/assets/auto_stories_24dp_5985E1_FILL0_wght400_GRAD0_opsz24.png'\r\n            });\r\n            \r\n            // Setelah izin diberikan, tawarkan untuk subscribe push notification\r\n            setTimeout(() => {\r\n              this.offerPushSubscription();\r\n            }, 3000);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // Metode untuk menawarkan langganan push notification\r\n  async offerPushSubscription() {\r\n    try {\r\n      // Import fungsi dari notification-helper.js\r\n      const { subscribe } = await __webpack_require__.e(/*! import() */ \"src_utils_notification-helper_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../utils/notification-helper.js */ \"./src/utils/notification-helper.js\"));\r\n      \r\n      const confirmPush = confirm(\r\n        'Apakah Anda ingin berlangganan notifikasi push untuk mendapatkan pembaruan bahkan ketika browser ditutup?'\r\n      );\r\n      \r\n      if (confirmPush) {\r\n        // Panggil fungsi subscribe yang sudah ada\r\n        const result = await subscribe();\r\n        if (result) {\r\n          console.log('Berhasil berlangganan push notification');\r\n        } else {\r\n          console.log('Gagal berlangganan push notification');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error offering push subscription:', error);\r\n    }\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcHJlc2VudGVyL2xvZ2luUHJlc2VudGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ2dEO0FBQ0c7QUFDbkQ7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwyREFBZTtBQUMxQztBQUNBO0FBQ0EsUUFBUSwwREFBYztBQUN0QixRQUFRLDZEQUFpQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDREQUFVO0FBQ3hCLFFBQVE7QUFDUiw0Q0FBNEMsK0NBQStDO0FBQzNGO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsWUFBWSxRQUFRLDBNQUF5QztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJpdGFhcHAvLi9zcmMvcHJlc2VudGVyL2xvZ2luUHJlc2VudGVyLmpzPzUxYzIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3ByZXNlbnRlci9sb2dpblByZXNlbnRlci5qc1xyXG5pbXBvcnQgKiBhcyBtb2RlbCBmcm9tICcuLi9tb2RlbC9zdG9yeU1vZGVsLmpzJztcclxuaW1wb3J0IHsgbmF2aWdhdGVUbyB9IGZyb20gJy4uLy4uL3B1YmxpYy9pbmRleC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dpblByZXNlbnRlciB7XHJcbiAgY29uc3RydWN0b3Iodmlldykge1xyXG4gICAgdGhpcy52aWV3ID0gdmlldztcclxuICAgIHRoaXMudmlldy5vblN1Ym1pdCA9IHRoaXMuaGFuZGxlTG9naW4uYmluZCh0aGlzKTtcclxuICAgIHRoaXMudmlldy5vbkFsZXJ0ID0gdGhpcy5oYW5kbGVBbGVydC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlQWxlcnQobWVzc2FnZSkge1xyXG4gICAgYWxlcnQobWVzc2FnZSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBoYW5kbGVMb2dpbihlbWFpbCwgcGFzc3dvcmQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1vZGVsLmxvZ2luVXNlcihlbWFpbCwgcGFzc3dvcmQpO1xyXG5cclxuICAgICAgaWYgKCFyZXN1bHQuZXJyb3IgJiYgcmVzdWx0LmxvZ2luUmVzdWx0ICYmIHJlc3VsdC5sb2dpblJlc3VsdC50b2tlbikge1xyXG4gICAgICAgIG1vZGVsLnNldFRva2VuKHJlc3VsdC5sb2dpblJlc3VsdC50b2tlbik7XHJcbiAgICAgICAgbW9kZWwuc2V0VXNlck5hbWUocmVzdWx0LmxvZ2luUmVzdWx0Lm5hbWUgfHwgJ0d1ZXN0Jyk7XHJcblxyXG4gICAgICAgIC8vIENlayBhcGFrYWggaW5pIGxvZ2luIHBlcnRhbWEga2FsaSBhdGF1IHNldGVsYWggcmVnaXN0ZXJcclxuICAgICAgICBjb25zdCBpc0ZpcnN0TG9naW4gPSAhbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hhc0xvZ2dlZEluQmVmb3JlJyk7XHJcbiAgICAgICAgY29uc3QganVzdFJlZ2lzdGVyZWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdqdXN0UmVnaXN0ZXJlZCcpID09PSAndHJ1ZSc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGlzRmlyc3RMb2dpbiB8fCBqdXN0UmVnaXN0ZXJlZCkge1xyXG4gICAgICAgICAgLy8gVGFuZGFpIGJhaHdhIHVzZXIgc3VkYWggcGVybmFoIGxvZ2luXHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaGFzTG9nZ2VkSW5CZWZvcmUnLCAndHJ1ZScpO1xyXG4gICAgICAgICAgLy8gSGFwdXMgZmxhZyBqdXN0UmVnaXN0ZXJlZFxyXG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnanVzdFJlZ2lzdGVyZWQnKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gVHVuZGEgc2VkaWtpdCB1bnR1ayBtZW1hc3Rpa2FuIG5hdmlnYXNpIHNlbGVzYWlcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByb21wdE5vdGlmaWNhdGlvblBlcm1pc3Npb24oKTtcclxuICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnbG9naW5TdWNjZXNzJywgJ3RydWUnKTtcclxuXHJcbiAgICAgICAgLy8gRGlzcGF0Y2ggZXZlbnQgdW50dWsgbWVtYmVyaXRhaHUgYmFod2EgdXNlciB0ZWxhaCBsb2dpblxyXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KCd1c2VyTG9nZ2VkSW4nKTtcclxuICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcblxyXG4gICAgICAgIC8vIFBlcmJhcnVpIG5hdmlnYXNpIHNldGVsYWggbG9naW5cclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy51cGRhdGVOYXYgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgIHdpbmRvdy51cGRhdGVOYXYoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5hdmlnYXNpIGtlIGhhbGFtYW4gc3Rvcmllc1xyXG4gICAgICAgIGF3YWl0IG5hdmlnYXRlVG8oJyNzdG9yaWVzJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy52aWV3LnNob3dFcnJvcihgTG9naW4gZ2FnYWw6ICR7cmVzdWx0Lm1lc3NhZ2UgfHwgJ0VtYWlsIGF0YXUgcGFzc3dvcmQgc2FsYWguJ31gKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignTG9naW4gZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLnZpZXcuc2hvd0Vycm9yKCdUZXJqYWRpIGtlc2FsYWhhbiBzYWF0IGxvZ2luLCBzaWxha2FuIGNvYmEgbGFnaS4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFRhbWJhaGthbiBtZXRvZGUgYmFydSB1bnR1ayBtZW1pbnRhIGl6aW4gbm90aWZpa2FzaVxyXG4gIHByb21wdE5vdGlmaWNhdGlvblBlcm1pc3Npb24oKSB7XHJcbiAgICAvLyBDZWsgZHVrdW5nYW4gbm90aWZpa2FzaVxyXG4gICAgaWYgKCEoJ05vdGlmaWNhdGlvbicgaW4gd2luZG93KSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnQnJvd3NlciB0aWRhayBtZW5kdWt1bmcgbm90aWZpa2FzaScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSmlrYSBpemluIGJlbHVtIGRpYmVyaWthbiwgdGFtcGlsa2FuIGRpYWxvZyBrb25maXJtYXNpXHJcbiAgICBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gIT09ICdncmFudGVkJyAmJiBOb3RpZmljYXRpb24ucGVybWlzc2lvbiAhPT0gJ2RlbmllZCcpIHtcclxuICAgICAgY29uc3QgY29uZmlybU5vdGlmID0gY29uZmlybShcclxuICAgICAgICAnU2VsYW1hdCBkYXRhbmcgZGkgU3RvcnlTaGFyZSBBcHAhIEFwYWthaCBBbmRhIGluZ2luIG1lbmVyaW1hIG5vdGlmaWthc2kgdW50dWsgY2VyaXRhIGJhcnUgZGFuIHBlbWJhcnVhbj8nXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoY29uZmlybU5vdGlmKSB7XHJcbiAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCkudGhlbihwZXJtaXNzaW9uID0+IHtcclxuICAgICAgICAgIGlmIChwZXJtaXNzaW9uID09PSAnZ3JhbnRlZCcpIHtcclxuICAgICAgICAgICAgLy8gSmlrYSBpemluIGRpYmVyaWthbiwgdGFtcGlsa2FuIG5vdGlmaWthc2kgc2VsYW1hdCBkYXRhbmdcclxuICAgICAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbignU2VsYW1hdCBEYXRhbmcgZGkgU3RvcnlTaGFyZSBBcHAhJywge1xyXG4gICAgICAgICAgICAgIGJvZHk6ICdUZXJpbWEga2FzaWggdGVsYWggYmVyZ2FidW5nLiBBbmRhIGFrYW4gbWVuZXJpbWEgbm90aWZpa2FzaSB1bnR1ayBjZXJpdGEgYmFydS4nLFxyXG4gICAgICAgICAgICAgIGljb246ICcvYXNzZXRzL2F1dG9fc3Rvcmllc18yNGRwXzU5ODVFMV9GSUxMMF93Z2h0NDAwX0dSQUQwX29wc3oyNC5wbmcnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gU2V0ZWxhaCBpemluIGRpYmVyaWthbiwgdGF3YXJrYW4gdW50dWsgc3Vic2NyaWJlIHB1c2ggbm90aWZpY2F0aW9uXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMub2ZmZXJQdXNoU3Vic2NyaXB0aW9uKCk7XHJcbiAgICAgICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBNZXRvZGUgdW50dWsgbWVuYXdhcmthbiBsYW5nZ2FuYW4gcHVzaCBub3RpZmljYXRpb25cclxuICBhc3luYyBvZmZlclB1c2hTdWJzY3JpcHRpb24oKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBJbXBvcnQgZnVuZ3NpIGRhcmkgbm90aWZpY2F0aW9uLWhlbHBlci5qc1xyXG4gICAgICBjb25zdCB7IHN1YnNjcmliZSB9ID0gYXdhaXQgaW1wb3J0KCcuLi91dGlscy9ub3RpZmljYXRpb24taGVscGVyLmpzJyk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjb25maXJtUHVzaCA9IGNvbmZpcm0oXHJcbiAgICAgICAgJ0FwYWthaCBBbmRhIGluZ2luIGJlcmxhbmdnYW5hbiBub3RpZmlrYXNpIHB1c2ggdW50dWsgbWVuZGFwYXRrYW4gcGVtYmFydWFuIGJhaGthbiBrZXRpa2EgYnJvd3NlciBkaXR1dHVwPydcclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChjb25maXJtUHVzaCkge1xyXG4gICAgICAgIC8vIFBhbmdnaWwgZnVuZ3NpIHN1YnNjcmliZSB5YW5nIHN1ZGFoIGFkYVxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1YnNjcmliZSgpO1xyXG4gICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdCZXJoYXNpbCBiZXJsYW5nZ2FuYW4gcHVzaCBub3RpZmljYXRpb24nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0dhZ2FsIGJlcmxhbmdnYW5hbiBwdXNoIG5vdGlmaWNhdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igb2ZmZXJpbmcgcHVzaCBzdWJzY3JpcHRpb246JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/presenter/loginPresenter.js\n");

/***/ }),

/***/ "./src/views/loginView.js":
/*!********************************!*\
  !*** ./src/views/loginView.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LoginView)\n/* harmony export */ });\nclass LoginView {\r\n  constructor(container) {\r\n    this.container = container;\r\n    this.onSubmit = null;\r\n    this.onAlert = null;\r\n  }\r\n\r\n  render() {\r\n    this.container.innerHTML = `\r\n      <h2 style=\"text-align:center; margin-bottom:20px; font-weight:700; font-size:28px; color:#333;\">Login</h2>\r\n      <form id=\"loginForm\" class=\"story-form\" aria-label=\"Form Login Pengguna\">\r\n        <div class=\"form-control\">\r\n          <label for=\"email\">Email:</label>\r\n          <input type=\"email\" id=\"email\" name=\"email\" placeholder=\"Masukkan email\" required aria-required=\"true\" />\r\n        </div>\r\n        <div class=\"form-control\">\r\n          <label for=\"password\">Password:</label>\r\n          <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"Masukkan password\" required aria-required=\"true\" />\r\n        </div>\r\n        <div class=\"form-buttons\" style=\"margin-top: 20px;\">\r\n          <button class=\"btn\" type=\"submit\">Masuk</button>\r\n          <button type=\"button\" id=\"cancel-button\" class=\"btn btn-outline\">Batal</button>\r\n        </div>\r\n      </form>\r\n    `;\r\n\r\n    this.#bindEvents();\r\n  }\r\n\r\n  #bindEvents() {\r\n    const form = this.container.querySelector('#loginForm');\r\n    const cancelBtn = this.container.querySelector('#cancel-button');\r\n\r\n    form.addEventListener('submit', (e) => {\r\n      e.preventDefault();\r\n      const email = form.elements['email'].value.trim();\r\n      const password = form.elements['password'].value;\r\n\r\n      if (!email || !password) {\r\n        this.onAlert?.('Email dan password harus diisi.');\r\n        return;\r\n      }\r\n\r\n      if (this.onSubmit) {\r\n        this.onSubmit(email, password);\r\n      }\r\n    });\r\n\r\n    cancelBtn.addEventListener('click', () => {\r\n      window.location.hash = '#home'; // navigasi ke home saat batal\r\n    });\r\n  }\r\n\r\n  showError(message) {\r\n    this.onAlert?.(message);\r\n  }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdmlld3MvbG9naW5WaWV3LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msb0JBQW9CLGlCQUFpQixnQkFBZ0IsV0FBVztBQUNwRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJpdGFhcHAvLi9zcmMvdmlld3MvbG9naW5WaWV3LmpzP2NkMjciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9naW5WaWV3IHtcclxuICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcclxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgdGhpcy5vblN1Ym1pdCA9IG51bGw7XHJcbiAgICB0aGlzLm9uQWxlcnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gYFxyXG4gICAgICA8aDIgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlcjsgbWFyZ2luLWJvdHRvbToyMHB4OyBmb250LXdlaWdodDo3MDA7IGZvbnQtc2l6ZToyOHB4OyBjb2xvcjojMzMzO1wiPkxvZ2luPC9oMj5cclxuICAgICAgPGZvcm0gaWQ9XCJsb2dpbkZvcm1cIiBjbGFzcz1cInN0b3J5LWZvcm1cIiBhcmlhLWxhYmVsPVwiRm9ybSBMb2dpbiBQZW5nZ3VuYVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuICAgICAgICAgIDxsYWJlbCBmb3I9XCJlbWFpbFwiPkVtYWlsOjwvbGFiZWw+XHJcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgaWQ9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gZW1haWxcIiByZXF1aXJlZCBhcmlhLXJlcXVpcmVkPVwidHJ1ZVwiIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxyXG4gICAgICAgICAgPGxhYmVsIGZvcj1cInBhc3N3b3JkXCI+UGFzc3dvcmQ6PC9sYWJlbD5cclxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBpZD1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCIgcGxhY2Vob2xkZXI9XCJNYXN1a2thbiBwYXNzd29yZFwiIHJlcXVpcmVkIGFyaWEtcmVxdWlyZWQ9XCJ0cnVlXCIgLz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1idXR0b25zXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAyMHB4O1wiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0blwiIHR5cGU9XCJzdWJtaXRcIj5NYXN1azwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJjYW5jZWwtYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmVcIj5CYXRhbDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Zvcm0+XHJcbiAgICBgO1xyXG5cclxuICAgIHRoaXMuI2JpbmRFdmVudHMoKTtcclxuICB9XHJcblxyXG4gICNiaW5kRXZlbnRzKCkge1xyXG4gICAgY29uc3QgZm9ybSA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNsb2dpbkZvcm0nKTtcclxuICAgIGNvbnN0IGNhbmNlbEJ0biA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJyNjYW5jZWwtYnV0dG9uJyk7XHJcblxyXG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IGVtYWlsID0gZm9ybS5lbGVtZW50c1snZW1haWwnXS52YWx1ZS50cmltKCk7XHJcbiAgICAgIGNvbnN0IHBhc3N3b3JkID0gZm9ybS5lbGVtZW50c1sncGFzc3dvcmQnXS52YWx1ZTtcclxuXHJcbiAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgICAgdGhpcy5vbkFsZXJ0Py4oJ0VtYWlsIGRhbiBwYXNzd29yZCBoYXJ1cyBkaWlzaS4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh0aGlzLm9uU3VibWl0KSB7XHJcbiAgICAgICAgdGhpcy5vblN1Ym1pdChlbWFpbCwgcGFzc3dvcmQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJyNob21lJzsgLy8gbmF2aWdhc2kga2UgaG9tZSBzYWF0IGJhdGFsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNob3dFcnJvcihtZXNzYWdlKSB7XHJcbiAgICB0aGlzLm9uQWxlcnQ/LihtZXNzYWdlKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/views/loginView.js\n");

/***/ })

}]);